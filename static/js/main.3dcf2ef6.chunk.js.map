{"version":3,"sources":["img/loader.gif","components/Block/Block.jsx","components/Explorer/Explorer.jsx","img/polkadot.png","components/Navbar/Nav.jsx","components/SearchBlock/SearchBlock.jsx","App.js","index.js"],"names":["Block","block","className","blockNumber","parentHash","hash","stateRoot","extrinsicsRoot","blockAuthor","timestamp","Explorer","props","listenToNewBlocks","a","count","newBlocks","state","api","rpc","chain","subscribeNewHeads","header","derive","author","toString","query","now","timeStamp","dateTime","Date","toNumber","dateTimeString","blockHeader","number","push","setState","blocks","this","undefined","slice","reverse","map","src","loader","style","display","margin","width","Component","Nav","polkadotImg","to","SearchBlock","onChangeHandler","e","target","name","value","getBlockDetails","getBlockHash","blockHash","getBlock","signedBlock","data","JSON","parse","getHeader","extrinsics","forEach","ex","index","toHuman","method","section","epoch","Number","args","replace","blockTimeStamp","retreivedBlock","handleSubmit","preventDefault","onSubmit","type","onChange","Object","keys","length","App","connect","provider","WsProvider","ApiPromise","create","Promise","all","system","version","nodeName","nodeVersion","console","log","path","exact","render","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.3dcf2ef6.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/loader.3f6ea0a7.gif\";","import React from 'react'\nimport './Block.css'\n\nfunction Block({ block }) {\n  return (\n    <div className='container'>\n      <div className='block-details'>\n        <p><b>Block Number</b> - {block.blockNumber}</p>\n        <p><b>Parent Hash</b> - {block.parentHash}</p>\n        <p><b>Hash</b> - {block.hash}</p>\n        <p><b>State Root</b> - {block.stateRoot}</p>\n        <p><b>Extrinsics Root</b> - {block.extrinsicsRoot}</p>\n        <p><b>Block Author</b> - {block.blockAuthor}</p>\n        <p><b>Timestamp</b> - {block.timestamp}</p>\n      </div>\n    </div>\n  )\n}\n\nexport default Block\n","import React, { Component } from 'react'\nimport './Explorer.css'\nimport loader from '../../img/loader.gif'\nimport Block from '../Block/Block'\n\nexport class Explorer extends Component {\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      api: props.api,\n      blocks: []\n    }\n    this.listenToNewBlocks()\n  }\n\n  listenToNewBlocks = async () => {\n    let count = 0;\n    let newBlocks = []\n    await this.state.api.rpc.chain.subscribeNewHeads(async (header) => {\n      let author\n      await this.state.api.derive.chain.subscribeNewHeads((header) => {\n        author = header.author.toString()\n      })\n      const timeStamp = await this.state.api.query.timestamp.now()\n      const dateTime = new Date(timeStamp.toNumber())\n      const dateTimeString = dateTime.toString()\n      const blockHeader = {\n        parentHash: header.parentHash.toString(),\n        stateRoot: header.stateRoot.toString(),\n        extrinsicsRoot: header.extrinsicsRoot.toString(),\n        blockNumber: header.number.toNumber(),\n        hash: header.hash.toString(),\n        timestamp: dateTimeString,\n        blockAuthor: author\n      }\n      if (++count !== 256) {\n        newBlocks.push(blockHeader)\n        this.setState({ blocks: newBlocks })\n      }\n    });\n  }\n\n  render() {\n    return (\n      <div>\n        <div className='note-styles'>\n          <p>\t&#128161; Get real time block updates - latest block on the top !</p>\n        </div>\n        {\n          this.state.blocks[0] !== undefined ?\n            this.state.blocks.slice(0).reverse().slice(0, 2).map((block) => {\n              return (\n                <div key={block.hash} >\n                  <Block block={block} />\n                </div>\n              )\n            }) :\n            <img src={loader} style={{ display: 'block', margin: 'auto', width: '300px' }} />\n        }\n      </div>\n    )\n  }\n}\n\nexport default Explorer\n","export default __webpack_public_path__ + \"static/media/polkadot.ec05169c.png\";","import React from 'react'\nimport './Nav.css'\nimport polkadotImg from '../../img/polkadot.png'\nimport { Link } from 'react-router-dom';\n\nfunction Nav() {\n  return (\n    <div className='container'>\n      <div className='heading-styles'>\n        <img src={polkadotImg} />\n        <h4>Block Explorer</h4>\n      </div>\n      <div className='navbar-styles'>\n        <Link to='/'>\n          <button>Explorer</button>\n        </Link>\n        <Link to='/search'>\n          <button>Search Block</button>\n        </Link>\n      </div>\n    </div>\n  )\n}\n\nexport default Nav\n","import React, { Component } from 'react'\nimport './SearchBlock.css'\nimport loader from '../../img/loader.gif'\nimport Block from '../Block/Block'\n\nexport class SearchBlock extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      api: props.api,\n      blockNumber: '',\n      blockHash: null,\n      block: {}\n    }\n  }\n\n  onChangeHandler = (e) => {\n    this.setState({\n      [e.target.name]: e.target.value\n    })\n  }\n\n  getBlockDetails = async () => {\n    await this.state.api.rpc.chain.getBlockHash(this.state.blockNumber, async (hash) => {\n      this.setState({ blockHash: hash.toString() })\n      await this.state.api.rpc.chain.getBlock(this.state.blockHash, async (signedBlock) => {\n        let data\n        data = JSON.parse(signedBlock.block.toString()).header\n        const header = await this.state.api.derive.chain.getHeader(this.state.blockHash)\n        let blockTimeStamp\n        signedBlock.block.extrinsics.forEach((ex, index) => {\n          if (ex.toHuman().method.section === 'timestamp') {\n            let epoch = Number(ex.toHuman().method.args[0].replace(/,/g, ''))\n            let timestamp = new Date(epoch);\n            blockTimeStamp = timestamp.toString()\n          }\n        });\n        const retreivedBlock = {\n          parentHash: data.parentHash,\n          stateRoot: data.stateRoot,\n          extrinsicsRoot: data.extrinsicsRoot,\n          blockNumber: this.state.blockNumber,\n          hash: this.state.blockHash,\n          timestamp: blockTimeStamp,\n          blockAuthor: header.author.toString(),\n        }\n        this.setState({ block: retreivedBlock })\n      });\n    });\n  }\n\n  handleSubmit = (e) => {\n    this.getBlockDetails()\n    e.preventDefault()\n  }\n\n  render() {\n    return (\n      <div>\n        <div className='form-styles'>\n          <form onSubmit={this.handleSubmit}>\n            <label>Enter Block Number</label>\n            <input type='text' name='blockNumber' value={this.state.blockNumber} onChange={this.onChangeHandler} />\n            <input type=\"submit\" value=\"Get Block\" />\n          </form>\n        </div>\n        {\n          Object.keys(this.state.block).length === 0 && this.state.blockHash !== null\n            ?\n            <img src={loader} style={{ display: 'block', margin: 'auto', width: '300px' }} />\n            :\n            Object.keys(this.state.block).length !== 0\n              ?\n              <div key={this.state.blockHash}>\n                <Block block={this.state.block} />\n              </div>\n              :\n              null\n        }\n      </div>\n    )\n  }\n}\n\nexport default SearchBlock\n","import React, { Component } from 'react'\nimport loader from '../src/img/loader.gif'\nimport { ApiPromise, WsProvider } from '@polkadot/api';\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\nimport Explorer from './components/Explorer/Explorer';\nimport Nav from './components/Navbar/Nav';\nimport SearchBlock from './components/SearchBlock/SearchBlock';\n\nexport class App extends Component {\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      api: null\n    }\n    this.connect()\n  }\n\n  connect = async () => {\n    const provider = new WsProvider('wss://rpc.polkadot.io');\n    const api = await ApiPromise.create({ provider });\n    const [chain, nodeName, nodeVersion] = await Promise.all([\n      api.rpc.system.chain(),\n      api.rpc.system.name(),\n      api.rpc.system.version()\n    ]);\n    console.log(`You are connected to chain ${chain} using ${nodeName} v${nodeVersion}`);\n    this.setState({ api })\n  }\n\n  render() {\n    return (\n      <>\n        <Router>\n          <Nav />\n          {\n            this.state.api\n              ?\n              <Switch>\n                <Route path='/' exact render={() =>\n                  <Explorer api={this.state.api} />}\n                />\n                <Route path='/search' render={() =>\n                  <SearchBlock api={this.state.api} />}\n                />\n              </Switch>\n              :\n              <img src={loader} style={{ display: 'block', margin: 'auto', width: '300px' }} />\n          }\n        </Router>\n      </>\n\n    )\n  }\n}\n\nexport default App\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}